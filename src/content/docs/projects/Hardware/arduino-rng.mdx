---
title: "Arduino RNG"
description: "Arduino + Python"
pubDate: "Jan 11 2026"
---

# **High-Frequency Trading (HFT) Hardware-in-the-Loop Simulator**

This project details the development of an ultra-low latency trading simulator designed to interface physical hardware (Arduino) with a high-performance Python-based analytical engine. The implementation serves as a comprehensive demonstration of real-time binary data ingestion, multi-threaded concurrency management, and the integration of automated risk mitigation protocols within a hardware-software ecosystem.

## **TLDR**

[Youtube Shorts](https://www.youtube.com/shorts/VDHP2wRmV9Y)

1. Arduino continously broadcast RNG, using specific packet config to mimic an exchange data (with a volatility that depends on the LDR)
2. On Button Press the Python script will record the order
3. Python sends the current price data into the LCD
4. Just so i can try 2 way communication between python and an analogue datasource

## **üöÄ System Architecture**

The system utilizes a **Producer-Consumer** architectural pattern to decouple high-frequency input/output (I/O) operations from the core execution logic. This separation is critical for maintaining deterministic performance and ensuring the zero-drop ingestion of market data.

### **1\. Hardware Layer: The Market Exchange Emulator**

- **Microcontroller:** An Arduino Uno serves as the market feed emulator, utilizing a Universal Asynchronous Receiver-Transmitter (UART) interface configured for **2,000,000 baud** to facilitate high-bandwidth communication.
- **Binary Framing Protocol:** Data is transmitted using a compact, 6-byte binary framing structure \[Header | Seq | Price | Signal\]. This approach minimizes computational overhead compared to traditional text-based serialization methods.
- **Physical Peripherals:**
  - **Execution Interface:** A tactile push-button utilizing edge-triggered state detection for the precise initiation of manual order entries.
  - **LDR (Light Dependent Resistor):** Serves as an environmental stochastic variable. By monitoring ambient light levels, the system simulates increased market volatility‚Äîanalogous to a flash crash event‚Äîwhen light levels drop below a calibrated threshold.
  - **Dashboard Integration:** A real-time visual interface facilitated by a Liquid Crystal Display (LCD) utilizing the I2C protocol via a PCF8574 expander.

### **2\. Software Layer: The Analytical Engine**

- **Ingestion Subsystem (Producer):** A dedicated execution thread optimized for the continuous monitoring of the serial buffer. It performs framing verification and validates the integrity of the incoming byte stream.
- **Analytical Subsystem (Consumer):** An independent thread tasked with the processing of market telemetry. It calculates a rolling Simple Moving Average (SMA) and monitors real-time volatility through Standard Deviation analysis.
- **Automated Circuit Breaker:** A sophisticated risk management component that monitors volatility metrics. In instances where environmental factors (captured by the LDR) drive volatility beyond established safety parameters, the system enters a "locked" state, programmatically rejecting all subsequent trade signals until stability is restored.

## **üõ†Ô∏è Technical Specifications**

- **Programming Languages:** Python 3.x, C++ (Embedded Systems)
- **Communication Protocols:** UART (Serial), I2C
- **Primary Libraries:** pyserial, threading, struct (Python); Wire, LiquidCrystal_I2C (C++)

## **üìä Systems Engineering Implementations**

- **Binary Memory Mapping:** The implementation prioritizes efficiency by eschewing ASCII or JSON parsing in favor of raw memory unpacking via the struct module, thereby achieving sub-millisecond tick-to-trade latency.
- **Concurrency and Synchronization:** Robust thread safety is maintained through the implementation of mutual exclusion (Mutex) locks, preventing data race conditions within the shared market state.
- **Deterministic Signal Processing:** Hardware-side state-change detection and debouncing logic ensure that manual execution signals remain deterministic and free from spurious triggers.

## **üìΩÔ∏è Functional Demonstration**

The accompanying video documentation provides empirical evidence of the system's operational capabilities, specifically:

1. **Steady-State Operations:** Baseline performance during standard market conditions with nominal volatility.
2. **Order Execution:** Instantaneous logging of trade events in response to physical hardware interrupts.
3. **Volatility Ingress:** The automated transition to a volatile state initiated by environmental light attenuation.
4. **Risk Mitigation:** The active rejection of trade signals by the Python-based Circuit Breaker during periods of extreme volatility.

_This simulator was developed to illustrate advanced concepts in low-latency systems and the synthesis of embedded hardware with high-level software environments._
